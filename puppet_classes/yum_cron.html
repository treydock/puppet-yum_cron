<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: yum_cron
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "puppet_classes::yum_cron";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (y)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">yum_cron</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: yum_cron</h1>
<div class="box_info">
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/init.pp
    </dd>
  </dl>
</div>

  <h2>Summary</h2>
  Manage yum-cron

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
  </div>
</div>


<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ensure</span>
      
      
        <span class='type'>(<tt>Enum['present', 'absent']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;present&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Defines the presence of <code>yum-cron</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>enable</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Boolean that defines the state of <code>yum-cron</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>download_updates</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Boolean that determines if updates should be automatically downloaded.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>apply_updates</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Boolean that determines if updates should be automatically installed. If
set to <code>true</code> then <code>download_updates</code> ignored.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>upgrade_type</span>
      
      
        <span class='type'>(<tt>Enum['default','security']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;default&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The kind of updates to perform. Applies only to EL8.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>debug_level</span>
      
      
        <span class='type'>(<tt>Pattern[/^(?:-)?[0-9]$/]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;-2&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Sets debug level. Applies only to EL7 and EL8.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>exclude_packages</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Packages to exclude from updates. Applies only to EL7 and EL8.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>randomwait</span>
      
      
        <span class='type'>(<tt>Pattern[/^[0-9]+$/]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;360&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Sets random wait time. Applies only to EL7 and EL8.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mailto</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;root&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Address notified about updates. Applies only to EL7 and EL8.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>systemname</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$::fqdn</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of system used in notifications. Applies only to EL7 and EL8.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>email_host</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;localhost&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Host used to send email messages. Applies only to EL7 and EL8.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>update_cmd</span>
      
      
        <span class='type'>(<tt>Yum_cron::Update_cmd</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;default&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The kind of updates to use. Applies only to EL7. Valid values: * default =
yum upgrade * security = yum –security upgrade * security-severity:Critical
= yum –sec-severity=Critical upgrade * minimal = yum –bugfix
upgrade-minimal * minimal-security = yum –security upgrade-minimal *
minimal-security-severity:Critical = –sec-severity=Critical upgrade-minimal</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>update_messages</span>
      
      
        <span class='type'>(<tt>Enum['yes','no']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;yes&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Determines whether a message should be emitted when updates are available,
downloaded, and applied. Applies only to EL7.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>extra_configs</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Hash that can be used to define additional configurations. Applies only to
EL7 and EL8.</p>

<p>For EL8 the hash defines additonal <code>dnf_automatic_config</code>
resources. For EL7 the hash defines additional <code>yum_cron_config</code>
resources.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>extra_hourly_configs</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Hash that can be used to define additional hourly configurations. Applies
only to EL7.</p>

<p>For EL7 the hash defines additional <code>yum_cron_hourly_config</code>
resources.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>yum_autoupdate_ensure</span>
      
      
        <span class='type'>(<tt>Enum['undef', 'UNSET', 'absent', 'disabled']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;disabled&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Defines how to handle yum-autoupdate on Scientific Linux systems. Applies
only to Scientific Linux. Valid values: * &#39;disabled&#39; (default) -
Sets ENABLED=&#39;false&#39; in /etc/sysconfig/yum-autoupdate. *
&#39;absent&#39; - Uninstall the yum-autoupdate package. * &#39;undef&#39;
or &#39;UNSET&#39; - Leave yum-autoupdate unmanaged.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>package_ensure</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The ensure value passed to yum-cron package resource. When
<code>undef</code>, the value passed to the package resources is based on
this class&#39; <code>ensure</code> parameter value.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>package_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>yum-cron package name. Default is based on OS version.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>yum-cron service name. Default is based on OS version.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_ensure</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The ensure value passed to yum-cron service resource. When
<code>undef</code>, the value passed to the service resources is based on
this class&#39; <code>ensure</code> and <code>enable</code> parameter
values.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_enable</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The ensure value passed to yum-cron package resource. When
<code>undef</code>, the value passed to the service resources is based on
this class&#39; <code>ensure</code> and <code>enable</code> parameter
values.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_hasstatus</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Service hasstatus property.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_hasrestart</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Service hasrestart property.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config_path</span>
      
      
        <span class='type'>(<tt>Stdlib::Absolutepath</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path to yum-cron configuration. Default is based on OS version.</p>
</div>
      
    </li>
  
</ul>



</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/init.pp', line 84</span>

class yum_cron (
  String $package_name,
  String $service_name,
  Stdlib::Absolutepath $config_path,
  Enum[&#39;present&#39;, &#39;absent&#39;] $ensure = &#39;present&#39;,
  Boolean $enable = true,
  Boolean $download_updates = true,
  Boolean $apply_updates = false,
  # EL8 only options
  Enum[&#39;default&#39;,&#39;security&#39;] $upgrade_type = &#39;default&#39;,
  # EL8 and EL7 options
  Pattern[/^(?:-)?[0-9]$/] $debug_level = &#39;-2&#39;,
  Pattern[/^[0-9]+$/] $randomwait = &#39;360&#39;,
  Array $exclude_packages = [],
  String $mailto = &#39;root&#39;,
  String $systemname = $::fqdn,
  String $email_host = &#39;localhost&#39;,
  # EL7 only options
  Yum_cron::Update_cmd $update_cmd = &#39;default&#39;,
  Enum[&#39;yes&#39;,&#39;no&#39;] $update_messages = &#39;yes&#39;,
  # Misc configs
  Hash $extra_configs = {},
  Hash $extra_hourly_configs = {},
  # Scientific Linux configs
  Enum[&#39;undef&#39;, &#39;UNSET&#39;, &#39;absent&#39;, &#39;disabled&#39;] $yum_autoupdate_ensure  = &#39;disabled&#39;,
  # Package, Service and Config params
  Optional[String] $package_ensure = undef,
  Optional[String] $service_ensure = undef,
  Optional[Boolean] $service_enable = undef,
  Boolean $service_hasstatus = true,
  Boolean $service_hasrestart = true,
) {

  case $ensure {
    &#39;present&#39;: {
      $package_ensure_default   = &#39;present&#39;
      if $enable {
        $service_ensure_default = &#39;running&#39;
        $service_enable_default = true
        $config_notify          = Service[&#39;yum-cron&#39;]
      } else {
        $service_ensure_default = &#39;stopped&#39;
        $service_enable_default = false
        $config_notify          = undef
      }
    }
    &#39;absent&#39;: {
      $package_ensure_default = &#39;absent&#39;
      $service_ensure_default = &#39;stopped&#39;
      $service_enable_default = false
      $config_notify          = undef
    }
    default: {
      # Do nothing
    }
  }

  $package_ensure_real = pick($package_ensure, $package_ensure_default)
  $service_ensure_real = pick($service_ensure, $service_ensure_default)
  $service_enable_real = pick($service_enable, $service_enable_default)

  if $apply_updates {
    $apply_updates_str    = &#39;yes&#39;
    $download_updates_str = &#39;yes&#39;
    $check_only           = &#39;no&#39;
    $download_only        = &#39;no&#39;
  } else {
    $apply_updates_str  = &#39;no&#39;
    $check_only         = &#39;yes&#39;

    if $download_updates {
      $download_updates_str = &#39;yes&#39;
      $download_only        = &#39;yes&#39;
    } else {
      $download_updates_str = &#39;no&#39;
      $download_only        = &#39;no&#39;
    }
  }

  if empty($exclude_packages) {
    $exclude_packages_ensure = &#39;absent&#39;
  } else {
    $exclude_packages_ensure = &#39;present&#39;
  }

  contain yum_cron::install
  contain yum_cron::service

  Class[&#39;yum_cron::install&#39;]
  -&gt; Class[&#39;yum_cron::service&#39;]

  if $ensure == &#39;present&#39; {
    contain yum_cron::config
    Class[&#39;yum_cron::install&#39;]
    -&gt; Class[&#39;yum_cron::config&#39;]
    -&gt; Class[&#39;yum_cron::service&#39;]
  }
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>